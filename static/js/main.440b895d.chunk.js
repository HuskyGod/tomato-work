(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return c});var n={BASE:{name:"\u4e2a\u4eba\u4e2d\u5fc3",path:"/home/setting/base"},INNER_MESSAGE:{name:"\u6d88\u606f\u4e2d\u5fc3",path:"/home/setting/innerMessage"},NOTIFICATION:{name:"\u6d88\u606f\u901a\u77e5",path:"/home/setting/notification"},CHANGE_PASSWORD:{name:"\u4fee\u6539\u5bc6\u7801",path:"/home/setting/changePassword"}},c={LOGIN:{name:"\u767b\u5f55",path:["/","/login"]},HOME:{name:"",path:"/home"},HOME_INDEX:{name:"\u540e\u53f0\u9996\u9875",path:"/home/index"},REMINDER:{name:"\u63d0\u9192\u4e8b\u9879",path:"/home/reminder"},SETTING_INDEX:{name:"\u4e2a\u4eba\u4e2d\u5fc3",path:"/home/setting"},TODAY_TASK:{name:"\u4eca\u65e5\u5f85\u529e",path:"/home/todayTask"},ABOUT:{name:"\u5173\u4e8e\u672c\u7ad9",path:"/home/about"},MEMORANDUM:{name:"\u5907\u5fd8\u5f55\u5217\u8868",path:"/home/memorandum"},MEMORANDUM_CREATE:{name:"\u5907\u5fd8\u5f55\u521b\u5efa",path:["/home/memorandum/create","/home/memorandum/update/:id"]},MEMORANDUM_DETAIL:{name:"*",path:"/home/memorandum/detail/:id"},CAPITAL_FLOW:{name:"\u8d44\u91d1\u6d41\u52a8",path:"/home/capitalFlow"},CAPITAL_FLOW_TYPE:{name:"\u521b\u5efa\u7c7b\u578b",path:"/home/capitalFlow/type"},TODO_LIST:{name:"\u6d3b\u52a8\u6e05\u5355",path:"/home/todoList"},NO_MATCH:{name:"404 Not Found",path:"*"}}},131:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(17),c=a(0);function r(e){var t=Object(c.useState)(e),a=Object(n.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}}},137:function(e,t,a){"use strict";var n=a(83),c=a(253),r=a(25),o=a(72),l=a(36),i=o.b.LOGIN,u={isLogin:!1,isLockScreen:!1,userInfo:{provider:"",uid:void 0,createdAt:"",bio:"",username:"",password:"",loginName:"",avatarUrl:"",email:"",role:"",token:void 0,location:""}};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var a=t.userInfo;return a&&a.token&&(e.isLogin=!0,window.localStorage.setItem(l.b.USER,JSON.stringify(a)),window.localStorage.setItem(l.b.LOGIN_NAME,a.loginName)),Object(r.a)({},e,{userInfo:t.userInfo});default:return e}},m=a(95),d=a.n(m),f=o.a.INFO,p={info:{mysqlVersion:"",currentSystemTime:Date.now(),freemem:0,totalmem:0,platform:"",type:"",hostname:"",arch:"",nodeVersion:"",cpus:[]}};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return d.a.isEmpty(t.data)?e:(t.data.arch=t.data.arch.slice(1),Object.assign({},e,{info:t.data}));default:return e}},h=Object(n.c)({user:s,system:b}),E=Object(n.d)(h,Object(n.a)(c.a));t.a=E},16:function(e,t,a){"use strict";var n=a(62),c=a.n(n),r=a(32),o=a(137),l=a(792),i=a(77),u=a(23),s=!1,m=c.a.CancelToken;function d(e){if(c.a.isCancel(e));else{var t=e.response;l.a.error("".concat(t.status," ").concat(t.statusText))}}c.a.defaults.timeout=6e4,c.a.defaults.headers.common.isLoading=!0,c.a.defaults.headers.common.successAlert=!1,c.a.defaults.headers.common.errorAlert=!0,c.a.defaults.baseURL=r.a.http.baseURL;var f=c.a.create();Object.setPrototypeOf(f,c.a),f.interceptors.request.use(function(e){var t=e.method,a=e.url,n=o.a.getState().user.userInfo;window.axiosCancelTokenStore.forEach(function(n,c){!1!==e.headers.cancelRequest&&n.url===a&&n.method===t&&(n.cancel(),window.axiosCancelTokenStore.splice(c,1))}),e.headers.token=n.token,e.cancelToken=new m(function(e){window.axiosCancelTokenStore.push({pathname:window.location.pathname,method:t,url:a,cancel:e})});var c={};if(e.headers.isLoading&&u.i.start(),"post"===t||"put"===t)if(e.data instanceof FormData)for(var r in c)e.data.append(r,c[r]);else e.data=Object.assign(c,e.data);return e},function(e){return d(e)||Promise.reject(e)}),f.interceptors.response.use(function(e){return e.config.headers.isLoading&&u.i.done(),!e.data.success&&e.config.headers.errorAlert&&l.a.warn(e.data.msg||"\u670d\u52a1\u5668\u51fa\u5c0f\u5dee"),e.data.success&&e.config.headers.successAlert&&l.a.success(e.data.msg||"success"),401!==e.data.errorCode||s||(s=!0,setTimeout(function(){Object(i.d)()},2e3)),e},function(e){return d(e)||Promise.reject(e)});var p=f,b=a(19);function h(e){return p.post(b.a.login,e)}function E(e){return p.get(b.a.loginByToken,{params:{token:e}})}function g(){return p.get(b.a.logout)}function O(e){return p.post(b.a.updateUser,e,{headers:{successAlert:!0}})}function v(){return p.get(b.a.getUserConfig)}function y(e){return p.put(b.a.getUserConfig,e)}function j(){return p.get(b.a.getSystemInfo)}function w(e){return p.post(b.a.reminder,e,{headers:{successAlert:!0}})}function C(e){return p.get(b.a.reminder,{params:e})}function k(e){return p.delete("".concat(b.a.reminder,"/").concat(e),{headers:{successAlert:!0}})}function N(e,t){return p.put("".concat(b.a.reminder,"/").concat(e),t,{headers:{successAlert:!0}})}function D(e){return p.post(b.a.task,e,{headers:{successAlert:!0}})}function S(e){return p.get(b.a.task,{params:e,headers:{isLoading:!0}})}function T(e){return p.delete("".concat(b.a.task,"/").concat(e))}function A(e,t){return p.put("".concat(b.a.task,"/").concat(e),t)}function M(){return p.get(b.a.capitalFlowType,{headers:{isLoading:!0}})}function I(e){return p.delete("".concat(b.a.capitalFlowType,"/").concat(e),{headers:{successAlert:!0}})}function L(e,t){return p.put("".concat(b.a.capitalFlowType,"/").concat(e),t,{headers:{successAlert:!0}})}function x(e){return p.post(b.a.capitalFlowType,e,{headers:{successAlert:!0}})}function Y(e){return p.get(b.a.capitalFlow,{params:e})}function R(e){return p.delete("".concat(b.a.capitalFlow,"/").concat(e),{headers:{successAlert:!0}})}function _(e){return p.post(b.a.capitalFlow,e)}function F(e){return p.get(b.a.getCapitalFlowPrice,{params:e})}function H(e){return p.post(b.a.memorandum,e,{headers:{successAlert:!0}})}function P(e){return p.get(b.a.memorandum,{params:e,headers:{isLoading:!0}})}function q(e){return p.get("".concat(b.a.memorandum,"/").concat(e),{headers:{isLoading:!0}})}function U(e){return p.delete("".concat(b.a.memorandum,"/").concat(e))}function z(e,t){return p.put("".concat(b.a.memorandum,"/").concat(e),t,{headers:{successAlert:!0}})}function G(e){return p.get(b.a.innerMessage,{params:e,headers:{errorAlert:!1,cancelRequest:!1}})}function B(e){return p.put("".concat(b.a.innerMessage,"/").concat(e),null,{headers:{successAlert:!0}})}function V(e){return p.post(b.a.todoList,e)}function K(e){return p.get(b.a.todoList,{params:e,headers:{isLoading:!0}})}function W(e){return p.delete("".concat(b.a.todoList,"/").concat(e),{headers:{successAlert:!0}})}function X(e,t){return p.put("".concat(b.a.todoList,"/").concat(e),t)}function J(e){return p.get(b.a.getPanelData,{params:e})}a.d(t,"y",function(){return h}),a.d(t,"z",function(){return E}),a.d(t,"A",function(){return g}),a.d(t,"H",function(){return O}),a.d(t,"x",function(){return v}),a.d(t,"I",function(){return y}),a.d(t,"u",function(){return j}),a.d(t,"d",function(){return w}),a.d(t,"t",function(){return C}),a.d(t,"j",function(){return k}),a.d(t,"E",function(){return N}),a.d(t,"e",function(){return D}),a.d(t,"v",function(){return S}),a.d(t,"k",function(){return T}),a.d(t,"F",function(){return A}),a.d(t,"o",function(){return M}),a.d(t,"h",function(){return I}),a.d(t,"B",function(){return L}),a.d(t,"b",function(){return x}),a.d(t,"m",function(){return Y}),a.d(t,"g",function(){return R}),a.d(t,"a",function(){return _}),a.d(t,"n",function(){return F}),a.d(t,"c",function(){return H}),a.d(t,"q",function(){return P}),a.d(t,"r",function(){return q}),a.d(t,"i",function(){return U}),a.d(t,"D",function(){return z}),a.d(t,"p",function(){return G}),a.d(t,"C",function(){return B}),a.d(t,"f",function(){return V}),a.d(t,"w",function(){return K}),a.d(t,"l",function(){return W}),a.d(t,"G",function(){return X}),a.d(t,"s",function(){return J})},19:function(e,t,a){"use strict";t.a={getCaptcha:"/api/captcha",login:"/passport/local",loginByToken:"/accessToken",logout:"/logout",getSystemInfo:"/system/info",updateUser:"/user/update",getUserConfig:"/userConfig",reminder:"/reminder",task:"/task",capitalFlowType:"/capitalFlowType",capitalFlow:"/capitalFlow",getCapitalFlowPrice:"/capitalFlow/price",memorandum:"/memorandum",innerMessage:"/innerMessage",todoList:"/todoList",getPanelData:"/panel"}},204:function(e,t,a){e.exports=a.p+"static/media/logo.cd8ff2de.png"},206:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(778);function o(){return!0}t.a=function(e){return c.a.createElement(r.a,Object.assign({},e,{onError:o}))}},23:function(e,t,a){"use strict";var n=a(25),c=a(785),r=a(792);function o(e,t){return Math.floor((e-t)/e*100)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t){c.a.confirm(Object(n.a)({title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",okType:"danger",onOk:function(){t(!0)}},e))})}function i(){try{var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}catch(t){r.a.warn("\u60a8\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5168\u5c4f")}}function u(){try{var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()}catch(t){r.a.warn("\u60a8\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u9000\u51fa\u5168\u5c4f, \u8bf7\u6309ESC")}}var s=a(9),m=a.n(s);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"timestamp",t=new Date;return t.setDate(1),"timestamp"===e?t.getTime():m()(t).format(e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"timestamp",t=new Date;return t.setDate(function(){var e=new Date,t=e.getMonth();return e.setMonth(t+1),e.setDate(0),e.getDate()}()),"timestamp"===e?t.getTime():m()(t).format(e)}function p(e){var t=(new Date).setHours(0,0,0,0);return!(e&&e.valueOf()>t)}function b(){return(new Date).setHours(0,0,0,0)}function h(){return(new Date).setHours(23,59,59)}function E(e){return new Date(e).setHours(0,0,0,0)||b()}function g(e){return new Date(e).setHours(23,59,59)||h()}var O=a(177),v=a.n(O);v.a.configure({template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'});v.a;var y,j='<div class="ant-spin ant-spin-spinning"><span class="ant-spin-dot ant-spin-dot-spin"><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i></span></div>';var w={start:function(){try{if(document.querySelector(".spin-loading"))return;y=y||document.getElementById("container");var e=document.createElement("div");e.className="spin-loading",e.innerHTML=j,y.appendChild(e)}catch(t){}},done:function(){try{var e=document.querySelector(".spin-loading");if(!e)return;e.parentNode.removeChild(e)}catch(t){}}};a.d(t,"j",function(){return o}),a.d(t,"h",function(){return l}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return u}),a.d(t,"c",function(){return d}),a.d(t,"d",function(){return f}),a.d(t,"g",function(){return p}),a.d(t,"f",function(){return E}),a.d(t,"e",function(){return g}),a.d(t,"i",function(){return w})},271:function(e,t,a){e.exports=a.p+"static/media/no-data.ab7ce88c.svg"},278:function(e,t,a){e.exports=a(777)},283:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},32:function(e,t,a){"use strict";var n={isProduction:!0,isDevelopment:!1,baseURL:"/",title:"Tomato Work",http:{baseURL:"/api"},github:{clientId:"9a6052b7834e7441cb95",callbackURL:"".concat(window.location.origin,"/api/passport/github/callback"),repositoryUrl:"https://github.com/xjh22222228/tomato-work",bug:"https://github.com/xjh22222228/tomato-work/issues"}};t.a=n},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},36:function(e,t,a){"use strict";var n={USER:"USER",SIDEBAR_COLLAPSED:"SIDEBAR_COLLAPSED",LOGIN_NAME:"LOGIN_NAME",LOCK_SCREEN:"LOCK_SCREEN"},c=a(10),r=[{path:c.a.HOME_INDEX.path,type:"home",name:c.a.HOME_INDEX.name},{path:c.a.REMINDER.path,type:"clock-circle",name:c.a.REMINDER.name},{path:c.a.TODO_LIST.path,type:"file-done",name:c.a.TODO_LIST.name},{path:c.a.TODAY_TASK.path,type:"schedule",name:c.a.TODAY_TASK.name},{path:"",type:"bar-chart",name:"\u8d22\u52a1\u7ba1\u7406",children:[{path:c.a.CAPITAL_FLOW.path,name:c.a.CAPITAL_FLOW.name},{path:c.a.CAPITAL_FLOW_TYPE.path,name:c.a.CAPITAL_FLOW_TYPE.name}]},{path:c.a.MEMORANDUM.path,type:"form",name:"\u6211\u7684\u5907\u5fd8",children:[{path:c.a.MEMORANDUM.path,name:c.a.MEMORANDUM.name},{path:c.a.MEMORANDUM_CREATE.path[0],name:c.a.MEMORANDUM_CREATE.name}]},{path:c.b.BASE.path,type:"user",name:c.b.BASE.name},{path:c.a.ABOUT.path,type:"question-circle",name:c.a.ABOUT.name}],o=[{path:c.b.BASE.path,name:c.b.BASE.name},{path:c.b.INNER_MESSAGE.path,name:c.b.INNER_MESSAGE.name},{path:c.b.NOTIFICATION.path,name:c.b.NOTIFICATION.name},{path:c.b.CHANGE_PASSWORD.path,name:c.b.CHANGE_PASSWORD.name}];a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o})},360:function(e,t,a){},369:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},514:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},72:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return c});var n={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},c={INFO:"INFO"}},764:function(e,t,a){},77:function(e,t,a){"use strict";var n=a(93),c=a(72),r=a(16),o=c.a.INFO;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:o,data:e}}function i(){return function(e,t){return t().system.info.nodeVersion?e(l()):Object(r.u)().then(function(t){if(t.data.success){var a=t.data.data;return e(l(a))}return e(l())})}}a.d(t,"e",function(){return n.d}),a.d(t,"c",function(){return n.b}),a.d(t,"d",function(){return n.c}),a.d(t,"b",function(){return n.a}),a.d(t,"a",function(){return i})},770:function(e,t,a){},771:function(e,t,a){},772:function(e,t,a){},777:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),l=(a(283),a(38)),i=a(75),u=a(139),s=a(32),m=a(42),d=a(10),f=a(110),p=a.n(f),b=Object(m.b)(function(e){return{isLogin:e.user.isLogin}})(Object(i.g)(function(e){var t=e.component,a=e.childrenRoutes,n=e.isLogin,r=e.location,o=Object(u.a)(e,["component","childrenRoutes","isLogin","location"]);Array.isArray(window.axiosCancelTokenStore)&&(window.axiosCancelTokenStore.forEach(function(e){e.pathname!==r.pathname&&e.cancel()}),window.axiosCancelTokenStore=[]);var l=o.meta;l&&(l.title?document.title="".concat(l.title," - ").concat(s.a.title):document.title=s.a.title);var m=!l||!l.requiresAuth||!!n;if(l&&l.isLoginToHome&&n){var f=p.a.parse(r.search).redirectUrl||d.a.HOME_INDEX.path;return c.a.createElement(i.a,{to:f})}return c.a.createElement(i.b,{render:function(e){return m?c.a.createElement(t,Object.assign({},e,o),Array.isArray(a)?c.a.createElement(i.d,null,a.map(function(e,t){return c.a.createElement(b,Object.assign({},e,{key:t}))})):null):c.a.createElement(i.a,{to:{pathname:"/",search:"?redirectUrl=".concat(e.location.pathname)}})}})})),h=b,E=a(17),g=(a(300),a(792)),O=a(788),v=a(11),y=a(48),j=a(780),w=(a(301),c.a.memo(function(){return c.a.createElement("footer",{className:"global-footer"},c.a.createElement("div",null,"Copyright \xa9 2019 ",s.a.title," -",c.a.createElement("a",{href:"https://github.com/xjh22222228",target:"_blank",rel:"noopener noreferrer"}," xiejiahe")))})),C=a(131),k=a(77),N=a(16),D=a(36),S=a(203),T=a.n(S),A=a(95),M=a.n(A),I=a(19),L=c.a.createElement("div",{style:{padding:"10px 20px 10px 20px"}},c.a.createElement("div",null,"\u672c\u7ad9\u4e0d\u5f00\u653e\u6ce8\u518c\u8d26\u53f7\uff0c\u9996\u6b21\u767b\u9646\u8bf7\u4f7f\u7528GitHub"),c.a.createElement("div",null,"\u767b\u9646\u540e\u7cfb\u7edf\u5c06\u81ea\u52a8\u6ce8\u518c\u8d26\u53f7, \u5bc6\u7801\u4e3a123456")),x=window.localStorage.getItem(D.b.LOGIN_NAME)||"",Y=Object(m.b)()(function(e){var t=e.dispatch,r=e.history,o=e.location,l=Object(C.a)(x),i=Object(C.a)(""),u=Object(C.a)(""),m=Object(n.useState)(!1),f=Object(E.a)(m,2),b=f[0],h=f[1],D=Object(n.useState)(function(){return p.a.parse(o.search).redirectUrl||d.a.HOME_INDEX.path}),S=Object(E.a)(D,1)[0];Object(n.useEffect)(function(){var e=p.a.parse(o.search),a=e.token,n=e.state;0!==Number(n)?a&&t(Object(k.c)(a)).then(function(e){M.a.isEmpty(e.userInfo)||r.replace(S)}):g.a.error("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55")},[r,o.search,t,S]);var A=function(){var e=l.value.trim(),a=i.value.trim(),n=u.value.trim();try{if(!e)throw new Error("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a");if(!a)throw new Error("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a");if(!n)throw new Error("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a");h(!0),Object(N.y)({loginName:e,password:T()(a),code:n}).then(function(e){h(!1),e.data.success&&(t(Object(k.e)(e.data.data.userInfo)),r.replace(S))}).catch(function(e){h(!1)})}catch(c){return void g.a.warn(c.message)}},Y=Object(n.useCallback)(function(e){e.target.src=I.a.getCaptcha+"?_="+Date.now()},[]);return c.a.createElement("section",{className:"login-page"},c.a.createElement("div",{className:"wrap"},c.a.createElement("div",null,c.a.createElement("div",{className:"logo-wrap"},c.a.createElement("img",{src:a(204),className:"logo"}),c.a.createElement("em",null,s.a.title)),c.a.createElement(O.a.Group,null,c.a.createElement(O.a,Object.assign({},l,{placeholder:"Username",prefix:c.a.createElement(v.a,{type:"user"}),maxLength:32,autoComplete:"off",onPressEnter:A})),c.a.createElement(O.a,Object.assign({},i,{placeholder:"Password",prefix:c.a.createElement(v.a,{type:"lock"}),maxLength:32,type:"password",autoComplete:"off",onPressEnter:A})),c.a.createElement(O.a,Object.assign({},u,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",prefix:c.a.createElement(v.a,{type:"picture"}),maxLength:4,autoComplete:"off",onPressEnter:A,suffix:c.a.createElement("img",{src:I.a.getCaptcha,className:"captcha",onClick:Y})}))),c.a.createElement(y.a,{type:"primary",style:{marginTop:"20px"},size:"large",loading:b,block:!0,onClick:A},b?"\u767b \u5f55 \u4e2d...":"\u767b \u5f55"),c.a.createElement("div",{className:"other-login"},c.a.createElement("span",{className:"txt"},"\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f"),c.a.createElement(v.a,{type:"github",onClick:function(){h(!0),Object(k.b)()}}),c.a.createElement("div",{className:"to-register"},c.a.createElement(j.a,{content:L,trigger:"hover",placement:"bottomRight"},c.a.createElement("em",{className:"cursor_pointer"},"\u6ce8\u518c\u8d26\u53f7")))))),c.a.createElement(w,null))}),R=(a(357),a(358),a(791)),_={403:{title:"403",subTitle:"Sorry, you are not authorized to access this page."},404:{title:"404",subTitle:"Sorry, the page you visited does not exist."},500:{title:"500",subTitle:"Sorry, the server is wrong."}},F=Object(i.g)(function(e){var t=e.history,a=e.status,n=void 0===a?"404":a;return c.a.createElement(R.a,Object.assign({status:n,extra:c.a.createElement(y.a,{type:"primary",onClick:function(){return t.goBack()}},"Back")},_[n]))}),H=function(){return c.a.createElement("div",{className:"exception-wrapper"},c.a.createElement(F,null))},P=(a(359),a(781)),q=(a(360),a(180)),U=P.a.Sider,z=q.b.SubMenu,G=Object(i.g)(function(e){var t=e.location,r=e.collapsed,o=Object(n.useState)(""),i=Object(E.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)([]),f=Object(E.a)(d,2),p=f[0],b=f[1],h=Object(n.useCallback)(function(e){b(e)},[]);return Object(n.useEffect)(function(){var e=t.pathname,a=e.split("/").slice(0,3),n=a.join("/");if(3===a.length)for(var c=0;c<D.a.length;c++){var r=D.a[c];if(Array.isArray(r.children)){var o=r.children.findIndex(function(t){return e===t.path});if(-1!==o){m(r.children[o].path),b([r.name]);break}}if(-1!==r.path.indexOf(n)){m(r.path);break}}},[t.pathname]),c.a.createElement(U,{trigger:null,collapsible:!0,collapsed:r,width:210,className:"sidebar"},c.a.createElement("div",{className:"sider-menu-logo"},c.a.createElement("img",{src:a(204),alt:"logo"}),c.a.createElement("h1",null,s.a.title)),c.a.createElement(q.b,{selectedKeys:[u],openKeys:p,onOpenChange:h,mode:"inline",theme:"dark"},D.a.map(function(e){return Array.isArray(e.children)?c.a.createElement(z,{key:e.name,title:c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{type:e.type}),c.a.createElement("span",null,e.name))},e.children.map(function(e){return c.a.createElement(q.b.Item,{key:e.path},c.a.createElement(l.b,{to:e.path},e.name))})):c.a.createElement(q.b.Item,{key:e.path},c.a.createElement(l.b,{to:e.path},c.a.createElement(v.a,{type:e.type}),c.a.createElement("span",null,e.name)))})))}),B=(a(369),a(793)),V=a(93),K=a(206),W=a(9),X=a.n(W),J=a(23),$=P.a.Header,Q=[{name:d.b.BASE.name,path:d.b.BASE.path},{name:d.b.NOTIFICATION.name,path:d.b.NOTIFICATION.path},{name:d.b.CHANGE_PASSWORD.name,path:d.b.CHANGE_PASSWORD.path}],Z=c.a.createElement("div",{className:"popover-content"},Q.map(function(e){return c.a.createElement(l.b,{to:e.path,key:e.name,className:"ls"},e.name)}),c.a.createElement("div",{className:"ls sign-out",onClick:function(){return Object(V.c)()}},c.a.createElement(v.a,{type:"poweroff",style:{fontSize:"14px",marginRight:"5px"}}),"\u9000\u51fa")),ee=Object(m.b)(function(e){return{userInfo:e.user.userInfo}})(Object(i.g)(function(e){var t=e.collapsed,a=e.setCollapsed,r=e.userInfo,o=Object(n.useState)([]),i=Object(E.a)(o,2),u=i[0],m=i[1],f=Object(n.useState)(0),p=Object(E.a)(f,2),b=p[0],h=p[1],g=Object(n.useState)(!1),O=Object(E.a)(g,2),y=O[0],w=O[1];Object(n.useEffect)(function(){Object(N.p)({pageSize:5}).then(function(e){if(e.data.success){var t=0,a=e.data.data.rows.map(function(e){return e.createdAt=X()(e.createdAt).format("YYYY-MM-DD HH:mm"),e.hasRead||t++,e});h(t),m(a)}})},[]);var C=Object(n.useMemo)(function(){return c.a.createElement("div",{className:"message-popover"},c.a.createElement("div",{className:"msg-header item-block"},c.a.createElement("span",{className:"left"},"\u7ad9\u5185\u6d88\u606f\u901a\u77e5"),c.a.createElement(l.b,{className:"right",to:d.b.NOTIFICATION.path},"\u6d88\u606f\u63a5\u6536\u7ba1\u7406")),u.map(function(e){return c.a.createElement("div",{className:"item-block ls",key:e.id},c.a.createElement("div",{className:"content"},e.content),c.a.createElement("div",{className:"date"},e.createdAt))}),c.a.createElement(l.b,{className:"item-block ls",to:d.b.INNER_MESSAGE.path},"\u67e5\u770b\u66f4\u591a"))},[u]),k=Object(n.useCallback)(function(){w(function(e){return e?Object(J.a)():Object(J.b)(),!e})},[w]);return c.a.createElement($,null,c.a.createElement("div",{className:"left"},c.a.createElement(v.a,{type:t?"menu-unfold":"menu-fold",style:{cursor:"pointer",fontSize:"20px"},onClick:a})),c.a.createElement("ul",{className:"right"},c.a.createElement(j.a,{content:C},c.a.createElement("li",null,c.a.createElement(B.a,{dot:b>0},c.a.createElement(v.a,{type:"bell"})))),c.a.createElement("li",{onClick:k},c.a.createElement(v.a,{type:y?"fullscreen-exit":"fullscreen"})),c.a.createElement("li",null,c.a.createElement("a",{href:s.a.github.bug,target:"_blank"},c.a.createElement(v.a,{type:"bug",theme:"filled"}))),c.a.createElement("li",null,c.a.createElement("a",{href:s.a.github.repositoryUrl,target:"_blank"},c.a.createElement(v.a,{type:"github"}))),c.a.createElement(j.a,{placement:"bottomRight",content:Z},c.a.createElement("li",null,c.a.createElement(K.a,{src:r.avatarUrl}),c.a.createElement("span",{className:"username"},r.username)))))})),te=P.a.Content,ae=window.localStorage.getItem(D.b.SIDEBAR_COLLAPSED),ne=Object(m.b)(function(e){return{userInfo:e.user.userInfo}})(function(e){var t=Object(n.useState)(!!ae&&!Number(ae)),a=Object(E.a)(t,2),r=a[0],o=a[1],l=Object(n.useCallback)(function(){o(function(e){return!e}),window.localStorage.setItem(D.b.SIDEBAR_COLLAPSED,String(+r))},[r]);return c.a.createElement("section",{className:"home-main"},c.a.createElement(P.a,null,c.a.createElement(G,{collapsed:r}),c.a.createElement(P.a,{className:"home-layout"},c.a.createElement(ee,{collapsed:r,setCollapsed:l}),c.a.createElement(te,{id:"container"},c.a.Children.map(e.children,function(e){return e})))))}),ce=a(25),re=a(783),oe=a(115),le=a(275),ie=a(785),ue=a(786),se=O.a.TextArea,me=X()(new Date,"YYYY-MM-DD hh:mm:ss"),de={confirmLoading:!1,dateMode:"time",date:me,content:""};function fe(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var pe=c.a.memo(function(e){var t=e.visible,a=e.onCancel,r=e.onSuccess,o=e.rowData,l=Object(n.useReducer)(fe,de),i=Object(E.a)(l,2),u=i[0],s=i[1],m=Object(n.useCallback)(function(e){s({type:"setState",state:e})},[]),d=Object(n.useCallback)(function(){m(o?{date:X()(o.date,"YYYY-MM-DD hh:mm:ss"),content:o.content}:{dateMode:"time",date:me,content:""})},[m,o]),f=Object(n.useCallback)(function(e){e.preventDefault();var t={date:u.date.valueOf(),content:u.content.trim()};try{if(!t.content)throw new Error("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")}catch(a){return void g.a.warn(a.message)}m({confirmLoading:!0}),(o?Object(N.E)(o.id,t):Object(N.d)(t)).then(function(e){e.data.success&&r(e)}).finally(function(){m({confirmLoading:!1})})},[u,m,r,o]);return Object(n.useEffect)(function(){d()},[t,d]),c.a.createElement(ie.a,{title:"\u65b0\u589e",visible:t,onOk:f,onCancel:a,confirmLoading:u.confirmLoading},c.a.createElement(ue.a,{onSubmit:f,layout:"inline"},c.a.createElement(ue.a.Item,{label:"\u63d0\u9192\u65f6\u95f4"},c.a.createElement(re.a,{mode:u.dateMode,showTime:!0,allowClear:!1,value:u.date,onPanelChange:function(e,t){return m({dateMode:t})},onChange:function(e){return m({date:e})},disabledDate:J.g})),c.a.createElement(ue.a.Item,{label:"\u63d0\u9192\u5185\u5bb9"},c.a.createElement(se,{rows:3,value:u.content,onChange:function(e){return m({content:e.target.value})},maxLength:200,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"}))))}),be=a(94),he=re.a.RangePicker,Ee=oe.a.Option,ge={1:{color:"#f50",text:"\u5f85\u63d0\u9192"},2:{color:"#87d068",text:"\u5df2\u63d0\u9192"}},Oe={date:[],queryType:"",modalVisible:!1,currentRow:{}};function ve(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var ye,je=function(){var e=Object(n.useReducer)(ve,Oe),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(null),l=Object(n.useState)([{title:"\u5e8f\u53f7",dataIndex:"order",width:70},{title:"\u63d0\u9192\u65f6\u95f4",dataIndex:"date",width:220},{title:"\u63d0\u9192\u5185\u5bb9",dataIndex:"content",className:"word-break_break-all white-space_pre"},{title:"\u72b6\u6001",dataIndex:"type",width:100,render:function(e){return c.a.createElement(le.a,{color:ge[e].color},ge[e].text)}},{title:"\u64cd\u4f5c",dataIndex:"",width:180,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{onClick:d.bind(null,0,e)},"\u7f16\u8f91"),c.a.createElement(y.a,{onClick:d.bind(null,1,e)},"\u5220\u9664"))}}]),i=Object(E.a)(l,1)[0],u=Object(n.useCallback)(function(e){r({type:"setState",state:e})},[]),s=Object(n.useCallback)(function(){var e=X()(Object(J.c)("YYYY-MM-DD"),"YYYY-MM-DD"),t=X()(Object(J.d)("YYYY-MM-DD"),"YYYY-MM-DD");u({queryType:"",date:[e,t]}),setTimeout(function(){o.current.getTableData()},100)},[u]),m=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return""!==a.queryType&&(e.type=a.queryType),2===a.date.length&&(e.startDate=a.date[0].valueOf(),e.endDate=a.date[1].valueOf()),Object(N.t)(e).then(function(e){return e.data.success&&(e.data.data.rows=e.data.data.rows.map(function(e,t){return e.order=t+1,e.date=X()(e.date).format("YYYY-MM-DD HH:mm:ss"),e})),e})},[a.date,a.queryType]),d=Object(n.useCallback)(function(e,t){0===e?u({modalVisible:!0,currentRow:t}):Object(J.h)().then(function(){Object(N.j)(t.id).then(function(e){e.data.success&&o.current.getTableData()})})},[u]),f=Object(n.useCallback)(function(){u({modalVisible:!1}),o.current.getTableData()},[u]);return Object(n.useEffect)(function(){s()},[s]),c.a.createElement("div",{className:"reminder"},c.a.createElement("div",{className:"query-panel"},c.a.createElement("span",null,"\u67e5\u8be2\u7c7b\u578b\uff1a"),c.a.createElement(oe.a,{onChange:function(e){return u({queryType:e})},value:a.queryType},c.a.createElement(Ee,{value:""},"\u5168\u90e8"),c.a.createElement(Ee,{value:"1"},"\u5f85\u63d0\u9192"),c.a.createElement(Ee,{value:"2"},"\u5df2\u63d0\u9192")),c.a.createElement("span",null,"\u65e5\u671f\uff1a"),c.a.createElement(he,{format:"YYYY-MM-DD",allowClear:!0,value:a.date,onChange:function(e){return u({date:e})}}),c.a.createElement(y.a,{type:"primary",onClick:function(){return o.current.getTableData()}},"\u67e5\u8be2"),c.a.createElement(y.a,{onClick:function(){return u({modalVisible:!0,currentRow:null})}},"\u65b0\u589e"),c.a.createElement(y.a,{onClick:s},"\u91cd\u7f6e")),c.a.createElement(be.a,{ref:o,getTableData:m,columns:i}),c.a.createElement(pe,{visible:a.modalVisible,rowData:a.currentRow,onCancel:function(){return u({modalVisible:!1})},onSuccess:f}))},we=(a(499),function(){return null}),Ce=P.a.Content,ke=P.a.Sider,Ne=function(e){var t=e.location,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],u=r[1];return Object(n.useEffect)(function(){for(var e=0;e<D.c.length;e++)if(D.c[e].path===t.pathname){u(D.c[e].path);break}},[t.pathname]),c.a.createElement(P.a,{className:"setting-page"},c.a.createElement(ke,{width:170},c.a.createElement(q.b,{mode:"inline",selectedKeys:[o],style:{height:"100%"}},D.c.map(function(e){return c.a.createElement(q.b.Item,{key:e.path},c.a.createElement(l.b,{to:e.path},e.name))}))),c.a.createElement(Ce,{style:{padding:"0 50px 0 30px"}},c.a.createElement(n.Suspense,{fallback:we()},c.a.createElement(i.d,null,ea.map(function(e,t){return c.a.createElement(h,Object.assign({},e,{key:t}))})))))},De=(a(500),function(){return c.a.createElement("div",{className:"about overflow-y_auto"},c.a.createElement("div",{className:"block-item"},c.a.createElement("h2",null,"Tomato Work"),c.a.createElement("p",null,c.a.createElement("span",null,"tomato-work  \u4e2a\u4eba\u4e8b\u52a1\u7ba1\u7406\u7cfb\u7edf, \u4e3a\u81ea\u5df1\u7cbe\u5fc3\u6253\u9020\u7684\u4e00\u4e2a\u7cfb\u7edf\uff0c\u5e76\u5f00\u6e90\u5206\u4eab\u3002\u672c\u9879\u76ee\u642d\u914d\u670d\u52a1\u7aef, \u5177\u4f53\u67e5\u770b =>  "),c.a.createElement("a",{href:"https://github.com/xjh22222228/tomato-work-server",target:"_blank"},"tomato-work-server")),c.a.createElement("p",null," tomato-work \u7684\u547d\u540d\u6765\u6e90\u4e8e\u300a\u756a\u8304\u5de5\u4f5c\u6cd5\u300b\uff0c\u7531\u4e8e\u4e0e\u672c\u9879\u76ee\u975e\u5e38\u7684\u8d34\u8fd1\uff0c\u6240\u4ee5\u56e0\u6b64\u800c\u6765\u3002")),c.a.createElement("div",{className:"block-item suupport"},c.a.createElement("h2",null,"\u652f\u6301\u4f5c\u8005"),c.a.createElement("p",null,"\u60a8\u7684\u652f\u6301\u5c31\u662f\u6211\u5f00\u6e90\u7684\u52a8\u529b"),c.a.createElement("div",{className:"pay-wrapper"},c.a.createElement("img",{src:"https://raw.githubusercontent.com/xjh22222228/statics/master/images/2018/32.png",alt:"",className:"pay-img"}))),c.a.createElement("div",{className:"block-item"},c.a.createElement("h2",null,"License"),c.a.createElement("p",null,c.a.createElement("a",{href:"https://opensource.org/licenses/MIT",target:"_blank"},"MIT")),c.a.createElement("p",null,"\u53ea\u8981\u6ce8\u660e\u539f\u4f5c\u8005\u8bb8\u53ef\u58f0\u660e\uff0c\u60a8\u53ef\u4ee5\u81ea\u7531\u5730\u590d\u5236\u3001\u5206\u4eab\u3001\u548c\u4fee\u6539\u3002"),c.a.createElement("p",null,"Copyright (c) 2019-present, ",c.a.createElement("a",{href:"https://github.com/xjh22222228/",target:"_blank"},"xiejiahe"))))}),Se=a(103),Te=a(59),Ae=a(789),Me=(a(501),c.a.memo(function(){var e=Object(n.useRef)(!1),t=Object(n.useState)([{title:"\u4eca\u65e5\u652f\u51fa",total:0,iconType:"property-safety",suffix:"$"},{title:"\u4eca\u65e5\u5f85\u529e",total:0,iconType:"schedule"},{title:"\u6d3b\u52a8\u6e05\u5355",total:0,iconType:"file-text"},{title:"\u63d0\u9192\u4e8b\u9879",total:0,iconType:"alert"}]),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(function(){e.current||(e.current=!0,Object(N.s)().then(function(e){if(e.data.success){var t=r.slice();t[0].total=e.data.data.consumption,t[1].total=e.data.data.todayTaskCount,t[2].total=e.data.data.unfinishedTodoListCount,t[3].total=e.data.data.reminderCount,o(t)}}))},[r]),c.a.createElement(Se.a,{gutter:{xs:8,sm:16,md:24},className:"panel-group"},r.map(function(e){return c.a.createElement(Te.a,{xl:6,lg:12,md:12,sm:24,xs:24,key:e.title},c.a.createElement("div",{className:"block-item"},c.a.createElement(v.a,{type:e.iconType,theme:"filled"}),c.a.createElement("div",{className:"data"},c.a.createElement(Ae.a,{title:e.title,value:e.total,suffix:e.suffix}))))}))})),Ie=(a(514),a(784)),Le=a(787),xe=a(178),Ye=a.n(xe),Re={curSystemTime:"",messageList:[],loading:!0};function _e(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var Fe=c.a.memo(function(e){var t,a=e.systemInfo,r=Object(n.useReducer)(_e,Re),o=Object(E.a)(r,2),l=o[0],i=o[1],u=Object(n.useMemo)(function(){return Object(J.j)(a.totalmem,a.freemem)},[a.totalmem,a.freemem]),m=Object(n.useCallback)(function(e){i({type:"setState",state:e})},[]),d=Object(n.useCallback)(function(){clearTimeout(ye);var e=a.currentSystemTime+(Date.now()-a.currentSystemTime);m({curSystemTime:X()(e).format("YYYY-MM-DD HH:mm:ss")}),ye=setTimeout(function(){d()},1e3)},[a.currentSystemTime,m]);return Object(n.useEffect)(function(){return d(),function(){clearTimeout(ye)}},[d]),Object(n.useEffect)(function(){Object(N.p)({pageSize:5}).then(function(e){e.data.success&&m({loading:!1,messageList:e.data.data.rows})})},[m]),c.a.createElement(Se.a,{gutter:{xs:8,sm:16,md:24},className:"system-data"},c.a.createElement(Te.a,{xl:8,lg:12,md:12,sm:24,xs:24},c.a.createElement(Ie.a,{title:"\u7cfb\u7edf\u53c2\u6570",hoverable:!0,loading:!a.nodeVersion},c.a.createElement("p",{className:"item-text"},c.a.createElement("em",null,"\u7cfb\u7edf\u7c7b\u578b\uff1a"),a.platform,a.arch),c.a.createElement("p",{className:"item-text"},c.a.createElement("em",null,"Node\u7248\u672c\uff1a"),a.nodeVersion),c.a.createElement("p",{className:"item-text"},c.a.createElement("em",null,"MySQL\u7248\u672c\uff1a"),a.mysqlVersion),c.a.createElement("p",{className:"item-text"},c.a.createElement("em",null,"\u5f53\u524d\u73af\u5883\uff1a"),s.a.isProduction?"\u751f\u4ea7\u73af\u5883":"\u5f00\u53d1\u73af\u5883"),c.a.createElement("p",{className:"item-text"},c.a.createElement("em",null,"\u7cfb\u7edf\u65f6\u95f4\uff1a"),l.curSystemTime))),c.a.createElement(Te.a,{xl:8,lg:12,md:12,sm:24,xs:24},c.a.createElement(Ie.a,{title:"\u6211\u7684\u6d88\u606f",hoverable:!0,loading:l.loading},l.messageList.map(function(e){return c.a.createElement("p",{className:"item-text",key:e.id},c.a.createElement("em",null,e.content))}))),c.a.createElement(Te.a,{xl:8,lg:12,md:12,sm:24,xs:24},c.a.createElement(Ie.a,{title:"\u5185\u5b58\u4f7f\u7528\u7387(".concat(Ye()(a.totalmem),")"),hoverable:!0,className:"mem"},c.a.createElement(Le.a,{type:"circle",percent:u,strokeColor:(t=u,t<40?"#52c41a":t<80?"#ffa500":"#f50"),format:function(e){return e+"%"}}),c.a.createElement("div",{className:"surplus"},"\u5269\u4f59",Ye()(a.freemem)))))}),He=(a(520),a(85)),Pe={date:{range:[0,1]}},qe=c.a.memo(function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){Object(N.n)().then(function(e){if(e.data.success){var t=e.data.data.map(function(e){return e.date=e.date.slice(5),e});r(t)}})},[r]),c.a.createElement("div",{className:"money-access"},c.a.createElement("h2",{className:"title"},"7\u5929\u8d44\u91d1\u6d41\u52a8"),c.a.createElement(He.Chart,{height:400,data:a,scale:Pe,forceFit:!0},c.a.createElement(He.Legend,null),c.a.createElement(He.Axis,{name:"price",label:{formatter:function(e){return"".concat(parseInt(e),"\uffe5")}}}),c.a.createElement(He.Tooltip,{crosshairs:{type:"y"}}),c.a.createElement(He.Geom,{type:"line",position:"date*price",size:2,color:"name",shape:"smooth"}),c.a.createElement(He.Geom,{type:"point",position:"date*price",size:4,shape:"circle",color:"name",style:{stroke:"#fff",lineWidth:1}})))}),Ue=Object(m.b)(function(e){return{system:e.system}})(function(e){var t=e.system,a=e.dispatch;return Object(n.useEffect)(function(){a(Object(k.a)())},[a]),c.a.createElement("div",{className:"home-index overflow-y_auto"},c.a.createElement(Me,null),c.a.createElement(Fe,{systemInfo:t.info}),c.a.createElement(qe,null))}),ze=(a(521),a(522),a(790)),Ge=c.a.memo(function(e){var t=e.data,a=e.reloadData,r=Object(n.useCallback)(function(e){0===e?Object(J.h)().then(function(){Object(N.k)(t.id).then(function(e){e.data.success&&a()})}):Object(N.F)(t.id,{rollback:2===e&&!0}).then(function(e){e.data.success&&a()})},[t,a]);return c.a.createElement(Ie.a,{title:"\u6211\u7684\u5f85\u529e",hoverable:!0,className:"task-component"},c.a.createElement("p",{className:"content"},t.content),c.a.createElement("div",{className:"level"},c.a.createElement("span",null,"\u91cd\u8981\u7ea7\u522b\uff1a"),c.a.createElement(ze.a,{value:t.count,disabled:!0}),c.a.createElement("p",null,"\u521b\u5efa\u65f6\u95f4: ",X()(t.createdAt).format("HH:mm:ss"))),c.a.createElement("div",{className:"button-wrapper"},c.a.createElement(y.a,{type:"danger",size:"small",onClick:r.bind(null,0)},"\u5220\u9664"),1===t.type&&c.a.createElement(y.a,{type:"primary",size:"small",onClick:r.bind(null,1)},"\u5f00\u59cb"),[2,3].includes(t.type)&&c.a.createElement(y.a,{type:"primary",size:"small",onClick:r.bind(null,2)},"\u56de\u9000"),2===t.type&&c.a.createElement(y.a,{type:"primary",size:"small",onClick:r.bind(null,1)},"\u5b8c\u6210")))}),Be=O.a.TextArea,Ve={confirmLoading:!1,content:"",date:X()(new Date,"YYYY-MM-DD"),count:5};function Ke(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var We=c.a.memo(function(e){var t=e.visible,a=e.onSuccess,r=e.setParentState,o=Object(n.useReducer)(Ke,Ve),l=Object(E.a)(o,2),i=l[0],u=l[1],s=Object(n.useCallback)(function(e){u({type:"setState",state:e})},[]),m=Object(n.useCallback)(function(){var e={date:i.date.valueOf(),content:i.content.trim(),count:i.count};e.content?Object(N.e)(e).then(function(e){e.data.success&&a()}):g.a.warn("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")},[i,a]);return c.a.createElement(ie.a,{title:"\u65b0\u589e",visible:t,onOk:m,onCancel:function(){return r({showCreateTaskModal:!1})},confirmLoading:i.confirmLoading},c.a.createElement(ue.a,{onSubmit:m,layout:"inline"},c.a.createElement(ue.a.Item,{label:"\u5f00\u59cb\u65e5\u671f"},c.a.createElement(re.a,{allowClear:!1,value:i.date,onChange:function(e){return s({date:e})},disabledDate:J.g})),c.a.createElement(ue.a.Item,{label:"\u4efb\u52a1\u5185\u5bb9"},c.a.createElement(Be,{rows:3,value:i.content,onChange:function(e){return s({content:e.target.value})},maxLength:200,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})),c.a.createElement(ue.a.Item,{label:"\u91cd\u8981\u7ea7\u522b"},c.a.createElement(ze.a,{value:i.count,onChange:function(e){return s({count:e})}}))))}),Xe=a(271),Je=a.n(Xe),$e=c.a.memo(function(e){var t=e.onClick,a=e.message,n=void 0===a?"\u6682\u65e0\u6570\u636e":a;return c.a.createElement(R.a,{className:"no-data",icon:c.a.createElement("img",{src:Je.a,className:"user-drag_none",alt:"no-data"}),title:n,extra:c.a.createElement(y.a,{type:"primary",onClick:t},"\u73b0\u5728\u521b\u5efa"),status:"info",style:{marginTop:"50px"}})}),Qe=X()(new Date(Object(J.f)()),"YYYY-MM-DD"),Ze={wait:{text:"\u5f85\u4f5c\u4e1a",color:"orange"},process:{text:"\u4f5c\u4e1a\u4e2d",color:"#108ee9"},finished:{text:"\u5df2\u5b8c\u6210",color:"#87d068"},unfinished:{text:"\u672a\u5b8c\u6210",color:"#f50"}},et={startDate:Qe,data:{wait:[],process:[],finished:[],unfinished:[]},showCreateTaskModal:!1};function tt(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var at,nt,ct,rt=function(){var e=Object(n.useReducer)(tt,et),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useCallback)(function(e){r({type:"setState",state:e})},[]),l=Object(n.useCallback)(function(){var e=a.startDate.valueOf();Object(N.v)({startDate:Object(J.f)(e),endDate:Object(J.e)(e)}).then(function(e){e.data.success&&o({data:e.data.data})})},[o,a.startDate]),i=Object(n.useCallback)(function(){o({startDate:Qe}),l()},[o,l]),u=Object(n.useCallback)(function(){o({showCreateTaskModal:!1}),l()},[o,l]);return Object(n.useEffect)(function(){l()},[l]),c.a.createElement("div",{className:"today-task"},c.a.createElement("div",{className:"query-panel"},c.a.createElement("span",null,"\u67e5\u8be2\u65e5\u671f\uff1a"),c.a.createElement(re.a,{format:"YYYY-MM-DD",allowClear:!0,value:a.startDate,onChange:function(e){return o({startDate:e})}}),c.a.createElement(y.a,{type:"primary",onClick:l},"\u67e5\u8be2"),c.a.createElement(y.a,{onClick:function(){return o({showCreateTaskModal:!0})}},"\u65b0\u589e"),c.a.createElement(y.a,{onClick:i},"\u91cd\u7f6e")),c.a.createElement("div",{className:"wrapper"},a.data.wait.length>0||a.data.process.length>0||a.data.finished.length>0||a.data.unfinished.length>0?c.a.createElement(Se.a,{gutter:24,type:"flex"},Object.keys(a.data).map(function(e){return c.a.createElement(Te.a,{span:6,key:e},c.a.createElement("div",{className:"text-align_center"},c.a.createElement(le.a,{color:Ze[e].color},Ze[e].text)),a.data[e].map(function(e){return c.a.createElement(Ge,{key:e.id,data:e,reloadData:l})}))})):c.a.createElement($e,{message:"\u8fd8\u6ca1\u6709\u5f85\u529e\u4e8b\u9879\uff0c\u662f\u5426\u9a6c\u4e0a\u521b\u5efa\uff1f",onClick:function(){return o({showCreateTaskModal:!0})}})),c.a.createElement(We,{visible:a.showCreateTaskModal,onSuccess:u,setParentState:o}))},ot=a(274),lt=(a(523),a(172)),it=a.n(lt),ut=a(136),st=a.n(ut),mt={html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&st.a.getLanguage(t))try{return st.a.highlight(t,e).value}catch(a){}return""}},dt=it()(mt),ft=function(e){var t=e.history,a=Object(n.useState)([]),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useCallback)(function(e,a,n){n.stopPropagation(),n.preventDefault(),0!==e?2!==e?t.push("/home/memorandum/update/".concat(a.id)):t.push("/home/memorandum/create"):Object(J.h)().then(function(){Object(N.i)(a.id).then(function(e){if(e.data.success){var t=o.findIndex(function(e){return e.title===a.title});if(-1!==t){var n=Object(ot.a)(o);n.splice(t,1),i(n)}}})})},[t,o]);return Object(n.useEffect)(function(){Object(N.q)().then(function(e){if(e.data.success){var t=e.data.data.map(function(e){return e.markdown=e.markdown.slice(0,100),e.contentHTML=dt.render(e.markdown),e.createdAt=X()(e.createdAt).format("YYYY/M/D hh:mm"),e.title=e.title||"\u65e0\u6807\u9898",e});i(t)}})},[]),c.a.createElement("div",{className:"memorandum"},o.length>0?c.a.createElement(Se.a,{gutter:16,type:"flex"},o.map(function(e){return c.a.createElement(Te.a,{span:8,key:e.id},c.a.createElement(l.b,{to:"/home/memorandum/detail/".concat(e.id)},c.a.createElement(Ie.a,{title:e.title,hoverable:!0},e.createdAt,c.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e.contentHTML}}),c.a.createElement("div",{className:"button-group"},c.a.createElement(y.a,{size:"small",onClick:u.bind(null,0,e)},"\u5220\u9664"),c.a.createElement(y.a,{size:"small",onClick:u.bind(null,1,e)},"\u7f16\u8f91")))))})):c.a.createElement($e,{message:"\u8fd8\u6ca1\u6709\u5907\u5fd8\u5f55\uff0c\u662f\u5426\u9a6c\u4e0a\u521b\u5efa\uff1f",onClick:u.bind(null,2,null)}))},pt=(a(764),a(272)),bt=a.n(pt),ht=function(e){var t=e.history,a=e.computedMatch,r=Object(n.useState)("\u65e0\u6807\u9898"),o=Object(E.a)(r,2),l=o[0],i=o[1],u=Object(n.useState)(!1),s=Object(E.a)(u,2),m=s[0],f=s[1],p=Object(n.useCallback)(function(e){if(0!==e){var n=a.params.id;if(!m){var c={markdown:at.getValue(),title:l};c.markdown?(f(!0),(n?Object(N.D)(n,c):Object(N.c)(c)).then(function(e){e.data.success&&t.replace(d.a.MEMORANDUM.path)})):g.a.warn("\u5b9e\u4f53\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")}}else t.replace(d.a.MEMORANDUM.path)},[t,l,m,a]),b=Object(n.useCallback)(function(){var e=a.params.id;at=new bt.a({el:document.querySelector("#edit-section"),initialEditType:"markdown",previewStyle:"vertical",usageStatistics:!1}),e&&Object(N.r)(e).then(function(e){e.data.success&&(i(e.data.data.title),at.setValue(e.data.data.markdown))})},[a]);return Object(n.useEffect)(function(){return b(),function(){at&&at.remove&&at.remove()}},[b]),c.a.createElement("div",{className:"editor-page"},c.a.createElement(O.a,{className:"input-title",placeholder:"\u65e0\u6807\u9898",maxLength:50,size:"large",value:l,onChange:function(e){return i(e.target.value)},onBlur:function(){return!l&&i("\u65e0\u6807\u9898")}}),c.a.createElement("div",{id:"edit-section"}),c.a.createElement("div",{className:"button-group"},c.a.createElement(y.a,{onClick:p.bind(null,0)},"\u53d6\u6d88"),c.a.createElement(y.a,{type:"primary",onClick:p.bind(null,1),loading:m},"\u63d0\u4ea4")))},Et=(a(770),function(e){var t=e.computedMatch,a=Object(n.useState)(""),r=Object(E.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(""),s=Object(E.a)(u,2),m=s[0],d=s[1],f=t.params.id;return Object(n.useEffect)(function(){Object(N.r)(f).then(function(e){if(e.data.success){var t=dt.render(e.data.data.markdown),a=e.data.data.title||"\u65e0\u6807\u9898";document.title=a,i(a),d(t)}})},[f]),c.a.createElement("div",{className:"memorandum-detail"},c.a.createElement(l.b,{className:"edit",to:"/home/memorandum/update/".concat(f)},c.a.createElement(v.a,{type:"edit",title:"\u7f16\u8f91"})),c.a.createElement("h1",{className:"title"},o),c.a.createElement("div",{className:"markdown-body tui-editor-contents",dangerouslySetInnerHTML:{__html:m}}))});a(771);!function(e){e[e["\u6536\u5165"]=1]="\u6536\u5165",e[e["\u652f\u51fa"]=2]="\u652f\u51fa"}(nt||(nt={})),function(e){e[e["#108ee9"]=1]="#108ee9",e[e["#f50"]=2]="#f50"}(ct||(ct={}));var gt=[{name:"\u6536\u5165",value:1},{name:"\u652f\u51fa",value:2}],Ot=[{name:"\u5168\u90e8",value:""}].concat(gt),vt=O.a.TextArea,yt=oe.a.Option,jt=X()(new Date,"YYYY-MM-DD HH:mm:ss"),wt={confirmLoading:!1,dateMode:"time",date:jt,remarks:"",typeId:"",price:""};function Ct(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var kt=c.a.memo(function(e){var t=e.visible,a=e.onCancel,r=e.onSuccess,o=e.rowData,l=e.nameList,i=Object(n.useReducer)(Ct,wt),u=Object(E.a)(i,2),s=u[0],m=u[1],d=Object(n.useCallback)(function(e){m({type:"setState",state:e})},[]),f=Object(n.useCallback)(function(){d(o?{date:X()(o.date,"YYYY-MM-DD HH:mm:ss"),remarks:o.content}:{dateMode:"time",date:jt,remarks:""})},[d,o]),p=Object(n.useCallback)(function(e){e.preventDefault();var t={date:s.date.valueOf(),remarks:s.remarks.trim(),typeId:s.typeId,price:Number(s.price)};try{if(!t.price||isNaN(t.price))throw new Error("\u91d1\u989d\u5fc5\u987b\u4e3a\u6570\u5b57");if(!t.typeId)throw new Error("\u8bf7\u9009\u62e9\u540d\u79f0")}catch(a){return void g.a.warn(a.message)}d({confirmLoading:!0}),(o?Object(N.E)(o.id,t):Object(N.a)(t)).then(function(e){e.data.success&&r(e)}).finally(function(){d({confirmLoading:!1})})},[s,d,r,o]);return Object(n.useEffect)(function(){f()},[t,f]),c.a.createElement(ie.a,{title:"\u65b0\u589e",visible:t,onOk:p,onCancel:a,confirmLoading:s.confirmLoading},c.a.createElement(ue.a,{onSubmit:p,layout:"inline"},c.a.createElement(ue.a.Item,{label:"\u65f6\u95f4"},c.a.createElement(re.a,{mode:s.dateMode,showTime:!0,allowClear:!1,value:s.date,onPanelChange:function(e,t){return d({dateMode:t})},onChange:function(e){return d({date:e})}})),c.a.createElement(ue.a.Item,{label:"\u540d\u79f0"},c.a.createElement(oe.a,{onChange:function(e){return d({typeId:e})},value:s.typeId},l.map(function(e){return c.a.createElement(yt,{value:e.id,key:e.id},e.optionName)}))),c.a.createElement(ue.a.Item,{label:"\u91d1\u989d"},c.a.createElement(O.a,{value:s.price,onChange:function(e){return d({price:e.target.value})}})),c.a.createElement(ue.a.Item,{label:"\u5907\u6ce8"},c.a.createElement(vt,{rows:3,value:s.remarks,onChange:function(e){return d({remarks:e.target.value})},maxLength:250}))))}),Nt=re.a.RangePicker,Dt=oe.a.Option,St={date:[],name:"",type:"",modalVisible:!1,currentRow:null,nameList:[],price:{consumption:0,income:0},expandedRowKeys:[]};function Tt(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var At=function(){var e=Object(n.useReducer)(Tt,St),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(null),l=Object(n.useState)([{title:"\u5e8f\u53f7",dataIndex:"order",width:70},{title:"\u540d\u79f0",dataIndex:"name",width:100},{title:"\u53c2\u4e0e\u65f6\u95f4",dataIndex:"date",width:220},{title:"\u91d1\u989d",dataIndex:"price"},{title:"\u7c7b\u578b",dataIndex:"type",width:100,render:function(e){return c.a.createElement(le.a,{color:ct[e]},nt[e])}},{title:"\u64cd\u4f5c",width:180,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{onClick:f.bind(null,0,e)},"\u7f16\u8f91"),c.a.createElement(y.a,{onClick:f.bind(null,1,e)},"\u5220\u9664"))}}]),i=Object(E.a)(l,1)[0],u=Object(n.useCallback)(function(e){r({type:"setState",state:e})},[]),s=Object(n.useCallback)(function(){var e=X()(Object(J.c)("YYYY-MM-DD"),"YYYY-MM-DD"),t=X()(Object(J.d)("YYYY-MM-DD"),"YYYY-MM-DD");u({name:"",date:[e,t]}),setTimeout(function(){o.current.getTableData()},100)},[u]),m=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.typeNameId=a.name,e.type=a.type,2===a.date.length&&(e.startDate=a.date[0].valueOf(),e.endDate=a.date[1].valueOf()),Object(N.m)(e).then(function(e){if(e.data.success){var t=e.data.data,a=[];e.data.data.rows=e.data.data.rows.map(function(e,t){return e.order=t+1,e.date=X()(e.date).format("YYYY-MM-DD HH:mm:ss"),a.push(e.id),e}),u({price:{income:t.income,consumption:t.consumption},expandedRowKeys:a})}return e})},[a.date,a.name,a.type,u]),d=Object(n.useCallback)(function(){Object(N.o)().then(function(e){if(e.data.success){var t=e.data.data.map(function(e){return e.optionName="".concat(nt[e.type]," - ").concat(e.name),e});u({nameList:t})}})},[u]),f=Object(n.useCallback)(function(e,t){0===e?u({modalVisible:!0,currentRow:t}):Object(J.h)().then(function(){Object(N.g)(t.id).then(function(e){e.data.success&&o.current.getTableData()})})},[u]),p=Object(n.useCallback)(function(){u({modalVisible:!1}),o.current.getTableData()},[u]);return Object(n.useEffect)(function(){s(),d()},[s,d]),c.a.createElement("div",{className:"capital-flow"},c.a.createElement("div",{className:"query-panel"},c.a.createElement("span",null,"\u67e5\u8be2\u540d\u79f0\uff1a"),c.a.createElement(oe.a,{onChange:function(e){return u({name:e})},value:a.name},c.a.createElement(Dt,{value:""},"\u5168\u90e8"),a.nameList.map(function(e){return c.a.createElement(Dt,{value:e.id,key:e.id},e.name)})),c.a.createElement("span",null,"\u67e5\u8be2\u7c7b\u578b\uff1a"),c.a.createElement(oe.a,{onChange:function(e){return u({type:e})},value:a.type},Ot.map(function(e){return c.a.createElement(Dt,{value:e.value,key:e.value},e.name)})),c.a.createElement("span",null,"\u65e5\u671f\uff1a"),c.a.createElement(Nt,{format:"YYYY-MM-DD",allowClear:!0,value:a.date,onChange:function(e){return u({date:e})}}),c.a.createElement(y.a,{type:"primary",onClick:function(){return o.current.getTableData()}},"\u67e5\u8be2"),c.a.createElement(y.a,{onClick:function(){return u({modalVisible:!0,currentRow:null})}},"\u65b0\u589e"),c.a.createElement(y.a,{onClick:s},"\u91cd\u7f6e"),c.a.createElement("div",{className:"poly"},c.a.createElement("div",{className:"item-price"},c.a.createElement("em",null,"\u6536\u5165\uff1a"),c.a.createElement(Ae.a,{value:a.price.income,precision:2}),"\uffe5"),c.a.createElement("div",{className:"item-price"},c.a.createElement("em",null,"\u652f\u51fa\uff1a"),c.a.createElement(Ae.a,{value:a.price.consumption,precision:2}),"\uffe5"),c.a.createElement("div",{className:"item-price"},c.a.createElement("em",null,"\u5b9e\u9645\u6536\u5165\uff1a"),c.a.createElement(Ae.a,{value:a.price.income-a.price.consumption,precision:2}),"\uffe5"))),c.a.createElement(be.a,{ref:o,getTableData:m,columns:i,expandedRowRender:function(e){return e.remarks},expandedRowKeys:a.expandedRowKeys}),c.a.createElement(kt,{visible:a.modalVisible,rowData:a.currentRow,nameList:a.nameList,onCancel:function(){return u({modalVisible:!1})},onSuccess:p}))},Mt=(a(772),a(779)),It=oe.a.Option,Lt=gt.length?gt[0].value:null,xt={confirmLoading:!1,name:"",type:Lt};function Yt(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var Rt=c.a.memo(function(e){var t=e.visible,a=e.rowData,r=e.onCancel,o=e.onSuccess,l=Object(n.useReducer)(Yt,xt),i=Object(E.a)(l,2),u=i[0],s=i[1],m=Object(n.useCallback)(function(e){s({type:"setState",state:e})},[]),d=Object(n.useCallback)(function(e){e.preventDefault();var t=u.name.trim(),n={type:u.type,name:t};t?(m({confirmLoading:!0}),(a?Object(N.B)(a.id,n):Object(N.b)(n)).then(function(e){e.data.success&&o(e.data.data)}).finally(function(){m({confirmLoading:!1})})):g.a.warn("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")},[u,a,o,m]);return Object(n.useEffect)(function(){m(a?{name:a.name,type:a.type}:{name:"",type:Lt})},[a,m]),c.a.createElement(ie.a,{title:"\u65b0\u589e\u7c7b\u578b",visible:t,onOk:d,onCancel:function(){return r()},confirmLoading:u.confirmLoading},c.a.createElement(ue.a,{onSubmit:d,layout:"inline"},c.a.createElement(ue.a.Item,{label:"\u540d\u79f0"},c.a.createElement(O.a,{value:u.name,onChange:function(e){return m({name:e.target.value})},maxLength:20,placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})),c.a.createElement(ue.a.Item,{label:"\u7c7b\u578b"},c.a.createElement(oe.a,{value:u.type,onChange:function(e){return m({type:e})}},gt.map(function(e){return c.a.createElement(It,{value:e.value,key:e.value},e.name)})))))}),_t={modalVisible:!1,selectedRowKeys:[],loading:!1,data:[],rowData:null};function Ft(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var Ht=function(){var e=Object(n.useReducer)(Ft,_t),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([{title:"\u5e8f\u53f7",dataIndex:"index"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u7c7b\u578b",render:function(e){return c.a.createElement(le.a,{color:e.color},e.typeName)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt"},{title:"\u64cd\u4f5c",render:function(e){return c.a.createElement(y.a,{onClick:p.bind(null,e)},"\u7f16\u8f91")}}]),l=Object(E.a)(o,1)[0],i=Object(n.useCallback)(function(e){r({type:"setState",state:e})},[]),u=Object(n.useCallback)(function(e){i({selectedRowKeys:e})},[i]),s=Object(n.useCallback)(function(){Object(N.o)().then(function(e){if(e.data.success){var t=e.data.data.map(function(e,t){return e.index=t+1,e.typeName=nt[e.type],e.color=ct[e.type],e.createdAt=X()(e.createdAt).format("YYYY-MM-DD hh:mm"),e});i({data:t})}})},[i]),m=Object(n.useCallback)(function(){var e=a.selectedRowKeys.join();e&&Object(N.h)(e).then(function(e){e.data.success&&s()})},[a.selectedRowKeys,s]),d=Object(n.useCallback)(function(){i({modalVisible:!1}),s()},[i,s]),f=Object(n.useCallback)(function(){a.data.length>=100?g.a.warn("\u7c7b\u578b\u8d85\u51fa100\u6761"):i({modalVisible:!0,rowData:null})},[a.data,i]),p=Object(n.useCallback)(function(e){i({modalVisible:!0,rowData:e})},[i]);Object(n.useEffect)(function(){s()},[s]);var b={selectedRowKeys:a.selectedRowKeys,onChange:u};return c.a.createElement("div",{className:"capital-flow-type"},c.a.createElement("div",{className:"button-group"},c.a.createElement(y.a,{type:"danger",onClick:m},"\u5220\u9664"),c.a.createElement(y.a,{type:"primary",onClick:f},"\u65b0\u589e")),c.a.createElement(Mt.a,{rowSelection:b,columns:l,dataSource:a.data,pagination:!1,rowKey:"id"}),c.a.createElement(Rt,{visible:a.modalVisible,rowData:a.rowData,onCancel:function(){return i({modalVisible:!1})},onSuccess:d}))},Pt=O.a.TextArea,qt={confirmLoading:!1,content:""};function Ut(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var zt=c.a.memo(function(e){var t=e.visible,a=e.onSuccess,r=e.setParentState,o=e.rowData,l=Object(n.useReducer)(Ut,qt),i=Object(E.a)(l,2),u=i[0],s=i[1],m=Object(n.useCallback)(function(e){s({type:"setState",state:e})},[]),d=Object(n.useCallback)(function(){m(o?{content:o.content}:{content:""})},[o,m]),f=Object(n.useCallback)(function(){var e={content:u.content.trim()};e.content?(o?Object(N.G)(o.id,e):Object(N.f)(e)).then(function(e){e.data.success&&a()}):g.a.warn("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")},[u,a,o]);return Object(n.useEffect)(function(){d()},[d]),c.a.createElement(ie.a,{title:"\u65b0\u589e",visible:t,onOk:f,onCancel:function(){return r({showCreateTodoModal:!1})},confirmLoading:u.confirmLoading},c.a.createElement(ue.a,{onSubmit:f,layout:"inline"},c.a.createElement(ue.a.Item,{label:"\u6d3b\u52a8\u5185\u5bb9"},c.a.createElement(Pt,{rows:3,value:u.content,onChange:function(e){return m({content:e.target.value})},maxLength:250,placeholder:"Todo List"}))))}),Gt={1:{text:"\u8fdb\u884c\u4e2d",color:"volcano"},2:{text:"\u5df2\u5b8c\u6210",color:"#2db7f5"}},Bt=re.a.RangePicker,Vt={date:[],showCreateTodoModal:!1,currentRowData:null};function Kt(e,t){switch(t.type){case"setState":return Object(ce.a)({},e,t.state);default:return e}}var Wt=function(){var e=Object(n.useReducer)(Kt,Vt),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(null),l=Object(n.useState)([{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt",width:170},{title:"\u6d3b\u52a8\u5185\u5bb9",dataIndex:"content",className:"word-break_break-all"},{title:"\u72b6\u6001",dataIndex:"status",width:90,render:function(e){return c.a.createElement(le.a,{color:Gt[e].color},Gt[e].text)}},{title:"\u64cd\u4f5c",width:250,render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{onClick:p.bind(null,0,e)},"\u7f16\u8f91"),c.a.createElement(y.a,{onClick:p.bind(null,1,e)},"\u5220\u9664"),c.a.createElement(y.a,{onClick:p.bind(null,2,e),disabled:2===e.status},"\u5b8c\u6210"))}}]),i=Object(E.a)(l,1)[0],u=Object(n.useCallback)(function(e){r({type:"setState",state:e})},[]),s=Object(n.useCallback)(function(){o.current.getTableData()},[]),m=Object(n.useCallback)(function(e){return e.startDate=a.date[0].valueOf(),e.endDate=a.date[1].valueOf(),Object(N.w)(e).then(function(e){return e.data.data.rows.map(function(e){return e.createdAt=X()(e.createdAt).format("YYYY-MM-DD HH:mm"),e}),e})},[a.date]),d=Object(n.useCallback)(function(){var e=X()(Object(J.c)("YYYY-MM-DD"),"YYYY-MM-DD"),t=X()(Object(J.d)("YYYY-MM-DD"),"YYYY-MM-DD");u({date:[e,t]}),setTimeout(function(){o.current.getTableData()},100)},[u]),f=Object(n.useCallback)(function(){u({showCreateTodoModal:!1}),o.current.getTableData()},[u]),p=Object(n.useCallback)(function(e,t){switch(e){case 0:u({showCreateTodoModal:!0,currentRowData:t});break;case 1:Object(J.h)().then(function(){Object(N.l)(t.id).then(function(e){e.data.success&&o.current.getTableData()})});break;case 2:Object(N.G)(t.id,{status:2}).then(function(e){e.data.success&&o.current.getTableData()})}},[u]);return Object(n.useEffect)(function(){d()},[d]),c.a.createElement("div",{className:"today-task"},c.a.createElement("div",{className:"query-panel"},c.a.createElement("span",null,"\u67e5\u8be2\u65e5\u671f\uff1a"),c.a.createElement(Bt,{format:"YYYY-MM-DD",allowClear:!0,value:a.date,onChange:function(e){return u({date:e})}}),c.a.createElement(y.a,{type:"primary",onClick:s},"\u67e5\u8be2"),c.a.createElement(y.a,{onClick:function(){return u({showCreateTodoModal:!0,currentRowData:null})}},"\u65b0\u589e"),c.a.createElement(y.a,{onClick:d},"\u91cd\u7f6e")),c.a.createElement(be.a,{ref:o,getTableData:m,columns:i}),c.a.createElement(zt,{visible:a.showCreateTodoModal,onSuccess:f,setParentState:u,rowData:a.currentRowData}))},Xt=[{path:d.a.LOGIN.path,exact:!0,component:Y,meta:{requiresAuth:!1,title:d.a.LOGIN.name,isLoginToHome:!0}},{path:d.a.HOME.path,component:ne,childrenRoutes:[{path:d.a.HOME_INDEX.path,component:Ue,exact:!0,meta:{title:d.a.HOME_INDEX.name,requiresAuth:!0}},{path:d.a.REMINDER.path,component:je,exact:!0,meta:{title:d.a.REMINDER.name,requiresAuth:!0}},{path:d.a.SETTING_INDEX.path,component:Ne,meta:{title:d.a.SETTING_INDEX.name,requiresAuth:!0}},{path:d.a.TODAY_TASK.path,component:rt,meta:{title:d.a.TODAY_TASK.name,requiresAuth:!0}},{path:d.a.ABOUT.path,component:De,exact:!0,meta:{title:d.a.ABOUT.name,requiresAuth:!0}},{path:d.a.MEMORANDUM.path,component:ft,exact:!0,meta:{title:d.a.MEMORANDUM.name,requiresAuth:!0}},{path:d.a.MEMORANDUM_CREATE.path,component:ht,exact:!0,meta:{title:d.a.MEMORANDUM_CREATE.name,requiresAuth:!0}},{path:d.a.MEMORANDUM_DETAIL.path,component:Et,exact:!0,meta:{title:d.a.MEMORANDUM_DETAIL.name,requiresAuth:!0}},{path:d.a.CAPITAL_FLOW.path,component:At,exact:!0,meta:{title:d.a.CAPITAL_FLOW.name,requiresAuth:!0}},{path:d.a.CAPITAL_FLOW_TYPE.path,component:Ht,exact:!0,meta:{title:d.a.CAPITAL_FLOW_TYPE.name,requiresAuth:!0}},{path:d.a.TODO_LIST.path,component:Wt,exact:!0,meta:{title:d.a.TODO_LIST.name,requiresAuth:!0}},{path:d.a.NO_MATCH.path,component:H,meta:{requiresAuth:!0,title:d.a.NO_MATCH.name}}]},{path:d.a.NO_MATCH.path,component:H,meta:{requiresAuth:!1,title:d.a.NO_MATCH.name}}],Jt=Object(n.lazy)(function(){return a.e(4).then(a.bind(null,801))}),$t=Object(n.lazy)(function(){return a.e(6).then(a.bind(null,803))}),Qt=Object(n.lazy)(function(){return a.e(3).then(a.bind(null,804))}),Zt=Object(n.lazy)(function(){return a.e(5).then(a.bind(null,802))}),ea=[{path:d.b.BASE.path,component:Jt,meta:{requiresAuth:!0,title:d.b.BASE.name}},{path:d.b.INNER_MESSAGE.path,component:$t,meta:{requiresAuth:!0,title:d.b.INNER_MESSAGE.name}},{path:d.b.NOTIFICATION.path,component:Qt,meta:{requiresAuth:!0,title:d.b.NOTIFICATION.name}},{path:d.b.CHANGE_PASSWORD.path,component:Zt,meta:{requiresAuth:!0,title:d.b.CHANGE_PASSWORD.name}}],ta=Xt,aa=Object(m.b)()(function(e){return e.dispatch(Object(V.e)()),c.a.createElement(l.a,{basename:s.a.baseURL},c.a.createElement(i.d,null,ta.map(function(e,t){return c.a.createElement(h,Object.assign({},e,{key:t}))})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var na=a(782),ca=a(273),ra=a.n(ca),oa=(a(773),a(137));X.a.locale("zh-cn"),o.a.render(c.a.createElement(m.a,{store:oa.a},c.a.createElement(na.a,{locale:ra.a},c.a.createElement(aa,null))),document.getElementById("tomato-work")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){"use strict";a.d(t,"d",function(){return d}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return p}),a.d(t,"a",function(){return b}),a.d(t,"e",function(){return h});var n=a(72),c=a(32),r=a(36),o=a(16),l=a(95),i=a.n(l),u=a(9),s=a.n(u),m=n.b.LOGIN;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createdAt&&(e.createdAt=s()(e.createdAt).format("YYYY-MM-DD")),{type:m,userInfo:e}}function f(e){return function(t){return Object(o.z)(e).then(function(e){if(e.data.success){var a=e.data.data.userInfo;return t(d(a))}return t(d())})}}function p(){Object(o.A)().finally(function(){for(var e=[r.b.LOGIN_NAME],t=window.localStorage.length,a=[],n=0;n<t;n++){var c=window.localStorage.key(n);a.push(c)}a.forEach(function(t){-1===e.indexOf(t)&&window.localStorage.removeItem(t)}),window.sessionStorage.clear(),window.location.reload()})}function b(){var e="https://github.com/login/oauth/authorize?client_id=".concat(c.a.github.clientId,"&redirect_uri=").concat(c.a.github.callbackURL);window.location.replace(e)}function h(){var e={};try{e=JSON.parse(window.localStorage.getItem(r.b.USER)),i.a.isPlainObject(e)||(e={})}catch(t){}return d(e)}},94:function(e,t,a){"use strict";var n=a(17),c=a(139),r=a(25),o=a(0),l=a.n(o),i=a(779),u={tableHeight:0,tableDataSource:[],isLoading:!1,pagination:{pageNo:1,pageSize:20,showSizeChanger:!0,total:0,pageSizeOptions:["20","30","40","50"]}};function s(e,t){switch(t.type){case"setState":return Object(r.a)({},e,t.state);default:return e}}t.a=l.a.memo(l.a.forwardRef(function(e,t){var a=e.getTableData,m=Object(c.a)(e,["getTableData"]),d=Object(o.useReducer)(s,u),f=Object(n.a)(d,2),p=f[0],b=f[1],h=Object(o.useCallback)(function(e){b({type:"setState",state:e})},[]),E=Object(o.useCallback)(function(){h({isLoading:!0});var e=t.current,n=e.pageNo,c=e.pageSize;a({pageNo:n-1,pageSize:c}).then(function(e){e.data.success&&h({pagination:Object(r.a)({},p.pagination,{total:e.data.data.count}),tableDataSource:e.data.data.rows})}).finally(function(){var e=document.querySelector(".ant-table-body");e&&(e.scrollTop=0),h({isLoading:!1})})},[h,p.pagination,a,t]),g=Object(o.useCallback)(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.pagination.pageSize;h({pagination:Object(r.a)({},p.pagination,{pageNo:e,pageSize:a})}),t.current.pageNo=e,t.current.pageSize=a,E()},[h,E,p.pagination,t]);return Object(o.useEffect)(function(){t.current.pageNo=1,t.current.pageSize=20},[t]),Object(o.useEffect)(function(){t.current.getTableData=E}),Object(o.useEffect)(function(){setTimeout(function(){var e=document.querySelector(".ant-table-wrapper");e&&h({tableHeight:e.clientHeight-120})},0)},[h]),l.a.createElement(i.a,Object.assign({},m,{ref:t,rowKey:"id",loading:p.isLoading,dataSource:p.tableDataSource,scroll:{y:p.tableHeight+"px"},pagination:Object(r.a)({},p.pagination,{onChange:g,onShowSizeChange:g})}))}))}},[[278,1,2]]]);